# 词向量与句向量 - 代码作业
---

## 作业说明

- **考察内容**：独热编码与局限、Word2Vec 训练与词语相似度、句向量与文本相似度。
- **提交形式**：提交一个 `.py` 文件，包含三道题的代码与必要注释；运行该文件即可依次完成所有题目。
- **允许使用**：`numpy`、`gensim`、`sklearn`、`jieba` 等课程中使用的库。

---

## 第1题：独热编码与余弦相似度

**目的**：理解独热编码的表示方式及其在语义度量上的局限。

**要求**：

1. 给定词表 `['猫', '狗', '苹果', '香蕉', '学习', '快乐']`，为每个词生成**独热编码**（One-Hot），并保存为一个字典或列表，便于根据词查向量。
2. 实现**余弦相似度**函数：输入两个向量，输出其余弦相似度（取值在 [-1, 1]）。
3. 使用该函数计算**任意两个不同词**在独热编码下的余弦相似度（例如「猫」与「狗」、「苹果」与「香蕉」），并打印结果。
4. 用一句话在注释中说明：为什么独热编码下不同词之间的相似度都是 0？这与“语义相似”有什么关系？

**提示**：独热编码下不同词对应的向量两两正交，点积为 0，因此余弦相似度为 0，无法区分“猫/狗”与“猫/苹果”的语义远近。

---

## 第2题：Word2Vec 训练与词语相似度

**目的**：掌握 Word2Vec 的基本训练与词语相似度、简单词类比。

**要求**：

1. 使用下面提供的**语料**（或等价的分词后的句子列表），训练一个 **Word2Vec** 模型（**Skip-gram**，如 `sg=1`），建议参数：`vector_size=50, window=3, min_count=1, epochs=100, seed=42`。
2. 训练完成后，对以下词对计算**词语相似度**并打印结果：  
   `('猫', '狗')`、`('苹果', '香蕉')`、`('学习', '快乐')`、`('猫', '苹果')`。  
   比较语义相近词对与语义较远词对的相似度差异。
3. 实现一个简单的**词类比函数**：给定三个词 `a, b, c`，计算 `vec(b) - vec(a) + vec(c)`，在词表中找到与结果向量**最相似**的词（排除 a、b、c 本身），作为答案并打印。  
   用该函数完成一例词类比（例如：若词表中有「国王」「男人」「女人」「王后」等，可做「国王-男人+女人≈？」；否则自选词表中存在的三元组，如「苹果-水果+动物≈？」等）。

**语料**（可直接使用，空格分隔表示已分词）：

```python
corpus = [
    "我 喜欢 猫 和 狗",
    "猫 是 可爱 的 宠物",
    "狗 很 忠诚 聪明",
    "苹果 是 健康 的 水果",
    "我 每天 吃 苹果 香蕉",
    "水果 含有 维生素",
    "我 喜欢 学习 编程",
    "学习 使人 快乐 进步",
    "编程 是 有趣 的 技能",
    "今天 我 很 快乐",
    "快乐 的 心情 重要",
]
```

---

## 第3题：句向量与文本相似度

**目的**：掌握由词向量得到句向量的方法，以及用余弦相似度衡量文本相似度。

**要求**：

1. 使用**第2题**训练好的 Word2Vec 模型（或重新训练同一语料），实现**句向量**计算函数：输入为分词后的词列表，输出为定长向量。要求采用**平均池化**：对句中所有在词表中的词的词向量取平均；若某词不在词表中则跳过；若整句无有效词，则返回全 0 向量。
2. 对语料中的**前 3 句话**分别计算句向量，并两两计算**余弦相似度**，打印 3×3 的相似度矩阵（或等价形式）。
3. 再任选**两句新句子**（需分词成列表），计算它们的句向量及这两句之间的余弦相似度，并打印结果。用一句话在注释中说明：为什么用“平均池化 + 余弦相似度”可以衡量两句子的语义相近程度？

**提示**：句向量用 `sklearn.metrics.pairwise.cosine_similarity` 或自己实现的余弦相似度均可；若使用 sklearn，注意输入为二维数组（如 `[[v1], [v2]]`）。

---

## 附加题

- **可视化**：对第2题中的词向量做 **PCA 降维**（如 2 维），将至少 6 个词在二维平面上画成散点图，并标注词标签。观察语义相近的词是否在图中更接近。
- **GloVe 对比**：若已下载 `glove.6B.100d.txt`（见课程 GloVe 说明文档），加载该预训练向量，对其中若干英文词计算相似度或词类比，与第2题的中文 Word2Vec 结果做简要对比说明（可写在注释或打印中）。

---
